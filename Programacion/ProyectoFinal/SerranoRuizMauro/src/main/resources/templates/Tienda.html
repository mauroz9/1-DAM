<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Tienda - Tabla Rota Skate Shop</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<link rel="stylesheet" type="text/css" href="../HojaDeEstilo.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
	<style>
		.nav-link {
			position: relative;
			transition: all 0.3s ease;
		}

		.nav-link:hover {
			font-weight: bold;
			border-bottom: red 2px solid;
		}

		.dropdown:hover .dropdown-menu {
			display: block;
			margin-top: 0;
		}
	</style>
</head>

<body>
	<header th:replace="Fragments :: header">

	</header>

	<main>
		<section class="container my-5">
			<div class="row align-items-center">
				<div class="col-md-6">
					<div class="mb-4">
						<h2 class="fw-bold border-bottom pb-2">TABLA ROTA - SKATESHOP</h2>
						<p class="text-muted">EL MEJOR MATERIAL</p>
						<p>¿Estás buscando un nuevo skate o necesitas una nueva tabla o ruedas? En Tabla Rota Skate Shop
							encontrarás todo lo que necesitas para patinar. Tanto si eres principiante como pro, tenemos
							las mejores marcas y mucha información para
							ayudarte en el camino.</p>
					</div>
				</div>

				<div class="col-md-6">
					<img src="https://images.pexels.com/photos/5880093/pexels-photo-5880093.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
						class="img-fluid rounded" alt="Tienda de skate">
				</div>
			</div>

			<div class="d-flex flex-wrap justify-content-center mt-5 gap-4" th:if="${categories}">

				<div class="text-center m-2" th:each="category : ${categories}">
					<a th:if="${selectedCategoryId != category.id}" th:href="@{'/shop/' + ${category.id}}">
						<button class="btn btn-outline-dark rounded-circle p-4 border-2">

						</button>
					</a>
					<a th:if="${selectedCategoryId == category.id}" th:href="@{'/shop'}">
						<button class="btn btn-dark rounded-circle p-4 border-2">

						</button>
					</a>
					<p class="d-block mt-2" th:text="${category.categoryName}">Nombre de la categoría</p>
				</div>

			</div>
		</section>

		<section class="container my-5">
			<div class="d-flex justify-content-between align-items-center mb-4">
				<h1 class="fw-bold" th:text="${resultCount} + ' RESULTADOS'"></h1>
				<div class="row mb-4">
					<div class="col-8">
						<form class="form-section d-flex" th:action="@{/shop/search}" method="get">
							<input class="form-control me-2" type="search" name="search" placeholder="Buscar">
							<button class="btn btn-outline" type="submit"><i class="bi bi-search"></i></button>
						</form>
					</div>
					<div class="col-4">
						<form action="#" class="d-flex align-items-center w-100" method="get">
							<select class="form-select col-3" name="sort" onchange="this.form.submit()"
								aria-label="Ordenar productos">
								<option value="" th:selected="${sort == null}">Ordenar</option>
								<option value="0" th:selected="${sort == 0}">Precio: Menor a mayor</option>
								<option value="1" th:selected="${sort == 1}">Precio: Mayor a menor</option>
								<option value="2" th:selected="${sort == 2}">Nombre: A-Z</option>
								<option value="3" th:selected="${sort == 3}">Nombre: Z-A</option>
								<option value="4" th:selected="${sort == 4}">Más recientes</option>
							</select>
						</form>
					</div>
				</div>
			</div>
			<div class="row" th:if="${products}">
				<div class="col-md-4 mb-5" th:each="product : ${products}">
					<div class="card h-100 shadow-sm">
						<img th:src="${product.image}" class="card-img-top" alt="Imagen del producto">
						<div class="card-body d-flex flex-column">
							<h5 class="card-title" th:text="${product.name}">Nombre del producto</h5>
							<p class="card-text" th:text="${product.description}">Descripción del producto</p>
							<h5 class="card-text" th:text="${product.price} + ' €'">Precio del producto</h5>
							<div class="mt-3 d-flex justify-content-between">
								<a th:href="@{'/modifyProduct/' + ${product.id}}" class="btn btn-outline-dark btn-sm">
									<i class="bi bi-pencil"></i> Modificar
								</a>
								<a th:href="@{'/delete/' + ${product.id}}" class="btn btn-outline-danger btn-sm">
									<i class="bi bi-x"></i> Eliminar
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="text-center mt-5">
				<a href="/createProduct" class="btn btn-dark btn-lg">
					<i class="bi bi-plus-lg"></i> Añadir nuevo producto
				</a>
			</div>
		</section>
	</main>

	<footer class="mt-5 border-top" th:replace="Fragments :: footer">

	</footer>

</body>

</html>